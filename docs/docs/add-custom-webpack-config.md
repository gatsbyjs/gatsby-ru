---
title: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ webpack"
---

_–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Webpack –ø–æ–∏—â–∏—Ç–µ —É–∂–µ –≥–æ—Ç–æ–≤—ã–π Gatsby-–ø–ª–∞–≥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É, –≤ [—Ä–∞–∑–¥–µ–ª–µ –ø–ª–∞–≥–∏–Ω–æ–≤](/docs/plugins/). –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–∞–π—Ç–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å, –∞ –≤–∞—à —Å–ª—É—á–∞–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à –ø–ª–∞–≥–∏–Ω –≤ –ë–∏–±–ª–∏–æ—Ç–µ–∫—É –ü–ª–∞–≥–∏–Ω–æ–≤ Gatsby, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –ª—é–¥–∏ —Å–º–æ–≥–ª–∏ –∏–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è (–≤–∫–ª—é—á–∞—è –≤–∞—Å —Å–∞–º–æ–≥–æ –≤ –±—É–¥—É—â–µ–º üòÄ)._

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Webpack, —Å–æ–∑–¥–∞–π—Ç–µ (–µ—Å–ª–∏ —É–∂–µ –Ω–µ —Å–æ–∑–¥–∞–Ω) `gatsby-node.js` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å –∏–º–µ–Ω–µ–º `onCreateWebpackConfig`.

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π webpack-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Gatsby –≤—ã–∑–æ–≤–µ—Ç —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é, –ø–æ–∑–≤–æ–ª—è—è –≤–∞–º –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É webpack –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å –ø–æ–º–æ—â—å—é [webpack-merge](https://github.com/survivejs/webpack-merge).

Gatsby –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä—è–¥ webpack-—Å–±–æ—Ä–æ–∫ —Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–ª–∏—á–Ω–æ–π –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π. –ö–∞–∂–¥—É—é –∏–∑ —Ç–∞–∫–∏—Ö —Å–±–æ—Ä–æ–∫ –º—ã –Ω–∞–∑—ã–≤–∞–µ–º "—Å—Ç–∞–¥–∏—è". –°—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–∞–¥–∏–∏:

1.  develop: –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `gatsby develop` –∫–æ–º–∞–Ω–¥—ã. –í–∫–ª—é—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–ª—è –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è CSS –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.
2.  develop-html: —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ develop, –Ω–æ –±–µ–∑ react-hmre –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ babel –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ HTML-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
3.  build-javascript: –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–±–æ—Ä–∫–∞ JavaScript –∏ CSS. –°–æ–∑–¥–∞–µ—Ç –∫–∞–∫ –º–∞—Ä—à—Ä—É—Ç –¥–ª—è JS-–±–∞–Ω–¥–ª–æ–≤, —Ç–∞–∫ –∏ —á–∞–Ω–∫–∏ —Å –æ–±—â–∏–º –∫–æ–¥–æ–º –¥–ª—è JS –∏ CSS.
4.  build-html: –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö HTML-—Å—Ç—Ä–∞–Ω–∏—Ü.

–û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å [webpack.config.js](https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/webpack.config.js) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ API –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –ø–ª–∞–≥–∏–Ω–∞—Ö –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Gatsby, –Ω–∞–ø—Ä–∏–º–µ—Ä, [Sass](/packages/gatsby-plugin-sass/), [TypeScript](/packages/gatsby-plugin-typescript/), [Glamor](/packages/gatsby-plugin-glamor/) –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö!

## –ü—Ä–∏–º–µ—Ä—ã

–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å –ø–æ–º–æ—â—å—é `DefinePlugin` –∏ `less-loader`:

```js:title=gatsby-node.js
exports.onCreateWebpackConfig = ({
  stage,
  rules,
  loaders,
  plugins,
  actions,
}) => {
  actions.setWebpackConfig({
    module: {
      rules: [
        {
          test: /\.less$/,
          use: [
            // –î–æ–±–∞–≤–ª—è—Ç—å ExtractText –ø–ª–∞–≥–∏–Ω –Ω–µ –Ω–∞–¥–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ
            // gatsby —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –µ–≥–æ –∏ —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã –∑–∞–ø—É—Å–∫–∞–ª—Å—è
            // –æ–Ω —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –Ω—É–∂–Ω–æ, –∫ –ø—Ä–∏–º–µ—Ä—É, –Ω–µ –≤ develop
            loaders.miniCssExtract(),
            loaders.css({ importLoaders: 1 }),
            // –≤ –∑–∞–≥—Ä—É–∑—á–∏–∫–µ postcss —É–∂–µ –µ—Å—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é,
            // –≤–∫–ª—é—á–∞—è autoprefixer –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –Ω–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤
            loaders.postcss(),
            `less-loader`,
          ],
        },
      ],
    },
    plugins: [
      plugins.define({
        __DEVELOPMENT__: stage === `develop` || stage === `develop-html`,
      }),
    ],
  })
}
```

### –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã

–í–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è `import Header from '../../components/header'` —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∑–∞–ø–∏—Å—å –¥–æ `import Header from 'components/header'` —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏:

```js:title=gatsby-node.js
exports.onCreateWebpackConfig = ({ stage, actions }) => {
  actions.setWebpackConfig({
    resolve: {
      modules: [path.resolve(__dirname, "src"), "node_modules"],
    },
  })
}
```

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ _resolve_ –∏ –¥—Ä—É–≥–∏—Ö –æ–ø—Ü–∏—è—Ö –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Webpack](https://webpack.js.org/concepts/).

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ babel

–≠—Ç–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤–∞–º, –µ—Å–ª–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–∞–ø–æ–¥–æ–±–∏–µ —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏–Ω–≥–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —á–∞—Å—Ç–µ–π `node_modules`.

```js:title=gatsby-node.js
exports.onCreateWebpackConfig = ({ actions, loaders, getConfig }) => {
  const config = getConfig()

  config.module.rules = [
    // –û–ø—É—Å—Ç–∏–º –ø—Ä–∞–≤–∏–ª–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≥–¥–µ test === '\.jsx?$'
    ...config.module.rules.filter(
      rule => String(rule.test) !== String(/\.jsx?$/)
    ),

    // –°–æ–∑–¥–∞–¥–∏–º –µ–≥–æ –∑–∞–Ω–æ–≤–æ —Å–æ —Å–≤–æ–∏–º –∏—Å–∫–ª—é—á–∞—é—â–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–º
    {
      // –í—ã–∑–≤–∞–Ω–Ω—ã–π –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ `loaders.js` –≤–µ—Ä–Ω–µ—Ç
      // –æ–±—ä–µ–∫—Ç –≤–∏–¥–∞:
      // {
      //   options: undefined,
      //   loader: '/path/to/node_modules/gatsby/dist/utils/babel-loader.js',
      // }
      // –ï—Å–ª–∏ –≤—ã –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –º–µ–Ω—è—Ç—å Babel –Ω–∞ –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω—Å–ø–∏–ª–µ—Ä, –≤–∞–º, –≤–µ—Ä–æ—è—Ç–Ω–æ,
      // –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —ç—Ç–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã Gatsby –ø—Ä–∏–º–µ–Ω–∏–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–µ—Å–µ—Ç—ã/–ø–ª–∞–≥–∏–Ω—ã
      // Babel. –¢–∞–∫–∂–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞—à–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑
      // `babel.config.js`.
      ...loaders.js(),

      test: /\.jsx?$/,

      // –ò—Å–∫–ª—é—á–∞–µ–º –≤—Å–µ node_modules –∏–∑ —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–∏, –∫—Ä–æ–º–µ 'swiper' –∏ 'dom7'
      exclude: modulePath =>
        /node_modules/.test(modulePath) &&
        !/node_modules\/(swiper|dom7)/.test(modulePath),
    },
  ]

  // –≠—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é webpack –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.
  actions.replaceWebpackConfig(config)
}
```
